# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Config {
  """
  Collection of supported types of dataset, for example github issues, jira projects, etc...
  """
  datasets: Datasets!

  """A single dataset element"""
  dataset(id: String!): Dataset!
}

type DatasetsConfig {
  """Query received as a parameter"""
  query: String!
}

type Dataset {
  id: ID!

  """Key representing the dataset in the tool configuration"""
  key: String!

  """Displayable name of the dataset"""
  name: String

  """Platform of the source data (GitHub, CircleCi, Jira, ...)"""
  platform: String

  """Elasticsearch index containing the dataset"""
  index: String

  """Is the dataset active or not"""
  active: Boolean
}

type Datasets {
  """Total count of elements"""
  totalCount: Float!

  """A list of available datasets"""
  nodes: [Dataset!]!
}

type GithubPullrequests {
  """Access to the dataset as individual items, aggregations and more"""
  data(
    """Query used to filter down content"""
    query: String
  ): GithubPullrequestsData!

  """Access to configuration values and metadata"""
  config: GithubPullrequestsConfig!
}

type GithubPullrequestsData {
  """Query received as a parameter"""
  query: String!

  """Transformation of the received query in an Elasticsearch query"""
  esQuery: String!

  """Returns a paginated list of items"""
  items(
    orderBy: ItemSortorder

    """Number if items to return """
    size: Int = 10

    """Return items starting from"""
    from: Int = 0
  ): PullrequestsItemConnection!

  """Returns a single item by providing its ID"""
  item(
    """ID fo an item"""
    id: String!
  ): PullRequest!

  """Return aggregations (facets)"""
  aggregations(
    """
    Additional options as a stringified object (more details in the documentation)
    """
    aggOptions: String

    """Type of aggregation (default: term)"""
    aggType: String

    """
    Field to aggregate on, using the node as the root object (examples: states, author.login)
    """
    field: String!
  ): PullrequestsAggregationConnection!

  """Return aggregations (facets)"""
  metrics(
    """
    Numberic field to filter on, using the node as the root object (examples: labels.totalCount, comments.totalCount)
    """
    field: String!
  ): DataMetrics!

  """Return a matrix aggregation per week and field"""
  activity(
    """Field to be used for the aggregations (for example: repository.name)"""
    field: String!

    """Date field to be used for the aggregation (for example: ClosedAt)"""
    dateField: String!
  ): DataActivity!
}

input ItemSortorder {
  direction: OrderDirection!

  """
  Order field (see config aggregations node for a sample of possible values)
  """
  field: String
}

"""
Possible directions in which to order a list of items when provided an `orderBy` argument.
"""
enum OrderDirection {
  asc
  desc
}

type GithubPullrequestsConfig {
  """Query received as a parameter"""
  query: String!

  """Returns a paginated list of available aggregations"""
  aggregations: ConfigAggregations!
}

type ConfigAggregation {
  """Actual field that can be aggregated upon"""
  field: String!

  """Type of aggregation (term, date, ...)"""
  facetType: String

  """Displayable name for the aggregation"""
  name: String

  """Value to display if field is null"""
  nullValue: String

  """Should the aggregation be displayed by default"""
  default: Boolean
}

type ConfigAggregations {
  """Total count of elements"""
  totalCount: Float!

  """A list of available datasets"""
  nodes: [ConfigAggregation!]!
}

type User {
  """The username of the actor."""
  login: String!

  """A URL pointing to the actor public avatar."""
  avatarUrl: String

  """The HTTP URL for this actor."""
  url: String!

  """The user public profile name."""
  name: String
}

type UserEdge {
  """The item at the end of the edge."""
  node: User!
}

type UserConnection {
  """A list of edges."""
  edges: [UserEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type ReviewRequest {
  """The actor."""
  requestedReviewer: User!
}

type ReviewRequestEdge {
  """The item at the end of the edge."""
  node: ReviewRequest!
}

type ReviewRequestConnection {
  """A list of edges."""
  edges: [ReviewRequestEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type Label {
  id: ID!

  """Identifies the label color."""
  color: String!

  """Identifies the label name."""
  name: String!

  """A brief description of this label."""
  description: String
}

type LabelEdge {
  """The item at the end of the edge."""
  node: Label!
}

type LabelConnection {
  """A list of edges."""
  edges: [LabelEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type Comments {
  id: ID!
}

type CommentEdge {
  """The item at the end of the edge."""
  node: Comments!
}

type CommentConnection {
  """A list of edges."""
  edges: [CommentEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type ProjectCard {
  id: ID!
}

type ProjectCardEdge {
  """The item at the end of the edge."""
  node: ProjectCard!
}

type ProjectCardConnection {
  """A list of edges."""
  edges: [ProjectCardEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type Actor {
  """A URL pointing to the actor public avatar."""
  avatarUrl: String

  """The username of the actor."""
  login: String!

  """The HTTP URL for this actor."""
  url: String!
}

type RepositoryOwner {
  id: ID!

  """The username of the actor."""
  login: String!

  """The HTTP URL for this repository."""
  url: String!
}

type Repository {
  id: ID!

  """Identifies the primary key from the database."""
  databaseId: Float!

  """The name of the repository."""
  name: String

  """The HTTP URL for this repository."""
  url: String!

  """The User owner of the repository."""
  owner: RepositoryOwner!
}

type Issue {
  id: ID!
}

type IssueEdge {
  """The item at the end of the edge."""
  node: Issue!
}

type IssueConnection {
  """A list of edges."""
  edges: [IssueEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type Milestone {
  id: ID!

  """Identifies the date and time when the object was created."""
  closedAt: String

  """Identifies the date and time when the object was created."""
  createdAt: String!

  """Description of the Milestone"""
  description: String!

  """When is the milestone due"""
  dueOn: String

  """When is the milestone due"""
  issues: IssueConnection

  """ Identifies the issue number."""
  number: String!

  """Identifies the state of the PR."""
  state: String!

  """Identifies the object title."""
  title: String!

  """Identifies the date and time when the object was last updated."""
  updatedAt: String!

  """The HTTP URL for this PR."""
  url: String!
}

type PullRequestReview {
  """The actor."""
  author: Actor!

  """The review state"""
  state: String!
}

type PullRequestReviewEdge {
  """The item at the end of the edge."""
  node: PullRequestReview!
}

type PullRequestReviewConnection {
  """A list of edges."""
  edges: [PullRequestReviewEdge!]!

  """Identifies the total count of items in the connection."""
  totalCount: Int!
}

type PullRequest {
  id: ID!

  """A list of Users assigned to this object."""
  assignees: UserConnection

  """A list of Review Requests assigned to this object."""
  reviewRequests: ReviewRequestConnection

  """A list of Reviews assigned to this object."""
  reviews: PullRequestReviewConnection

  """The actor who authored the comment."""
  author: Actor!

  """Identifies the body of the PR."""
  body: String!

  """Identifies the date and time when the object was created."""
  closedAt: String

  """A list of comments"""
  comments: CommentConnection!

  """Identifies the date and time when the object was created."""
  createdAt: String!

  """Identifies the primary key from the database."""
  databaseId: Float!

  """A list of labels associated with the object."""
  labels: LabelConnection

  """A list of labels associated with the object."""
  milestone: Milestone

  """ Identifies the issue number."""
  number: String!

  """A list of Users that are participating in the conversation."""
  participants: UserConnection!

  """List of associated project cards."""
  projectCards: ProjectCardConnection!

  """Identifies the date and time when the object was last updated."""
  updatedAt: String!

  """The repository where the PR is located"""
  repository: Repository!

  """Identifies the object title."""
  title: String!

  """Identifies the state of the PR."""
  state: String!

  """The HTTP URL for this PR."""
  url: String!
}

type PullrequestsItemConnection {
  nodes: [PullRequest!]
  totalCount: Int!
}

type AggregationBucket {
  """The Bucket key"""
  key: String!

  """Representation of the key as a string (useful for dates)"""
  keyAsString: String

  """The number of elements in the bucket"""
  docCount: Float!
}

type PullrequestsAggregationConnection {
  """The field that was aggregated on"""
  field: String!

  """A list of aggregation buckets"""
  buckets: [AggregationBucket!]!
}

type DataMetrics {
  """The filed that was aggregated on"""
  field: String!

  """Minimum value for the current query"""
  min: Float!

  """Maximum value for the current query"""
  max: Float!

  """Overall minimum value (current query with field excluded)"""
  overallMin: Float!

  """Overall maximum value (current query with field excluded)"""
  overallMax: Float!
}

type BucketWeek {
  """First day of the week"""
  weekStart: String!

  """The number of documents that week"""
  docCount: Float!
}

type ActivityBucket {
  """The Bucket key"""
  key: String!

  """Representation of the key as a string (useful for dates)"""
  keyAsString: String

  """The number of elements in the bucket"""
  docCount: Float!

  """Weeks of activity"""
  weeks: [BucketWeek!]!
}

type DataActivity {
  """The filed that was aggregated on"""
  field: String!

  """A list of aggregation buckets"""
  buckets: [ActivityBucket!]!

  """Overall first week (first day of the week) in the aggregated buckets"""
  fromWeekStart: String!

  """Overall last week (first day of the week) in the aggregated buckets"""
  toWeekStart: String!
}

type GithubVulnerabilities {
  """Access to the dataset as individual items, aggregations and more"""
  data(
    """Query used to filter down content"""
    query: String
  ): GithubVulnerabilitiesData!

  """Access to configuration values and metadata"""
  config: GithubVulnerabilitiesConfig!
}

type GithubVulnerabilitiesData {
  """Query received as a parameter"""
  query: String!

  """Transformation of the received query in an Elasticsearch query"""
  esQuery: String!

  """Returns a paginated list of items"""
  items(
    orderBy: Sortorder

    """Number if items to return """
    size: Int = 10

    """Return items starting from"""
    from: Int = 0
  ): VulnerabilityConnection!

  """Returns a single item by providing its ID"""
  item(
    """Return items starting from"""
    id: String!
  ): RepositoryVulnerabilityAlert!

  """Return aggregations (facets)"""
  aggregations(
    """
    Additional options as a stringified object (more details in the documentation)
    """
    aggOptions: String

    """Type of aggregation (default: term)"""
    aggType: String

    """
    Field to aggregate on, using the node as the root object (examples: states, author.login)
    """
    field: String!
  ): VulnerabilitiesAggregationConnection!
}

input Sortorder {
  direction: OrderDirection!

  """
  Order field (see config aggregations node for a sample of possible values)
  """
  field: String
}

type GithubVulnerabilitiesConfig {
  """Query received as a parameter"""
  query: String!

  """Returns a paginated list of available aggregations"""
  aggregations: ConfigAggregations!
}

type SecurityAdvisory {
  id: ID!

  """When the advisory was published"""
  publishedAt: String!

  """The organization that originated the advisory"""
  origin: String!

  """A short plaintext summary of the advisory"""
  summary: String!

  """This is a long plaintext description of the advisory"""
  description: String!
  severity: SecurityAdvisorySeverity!

  """The GitHub Security Advisory ID"""
  ghsaId: String!

  """The permalink for the advisory"""
  permalink: String
}

"""The severity of the advisory"""
enum SecurityAdvisorySeverity {
  CRITICAL
  HIGH
  LOW
  MODERATE
}

type SecurityAdvisoryPackageVersion {
  """The package name or version"""
  identifier: String!
}

type SecurityAdvisoryPackage {
  """The ecosystem the package belongs to, e.g. RUBYGEMS, NPM"""
  name: String!

  """The organization that originated the advisory"""
  ecosystem: SecurityAdvisoryEcosystem!
}

"""The possible ecosystems of a security vulnerability package."""
enum SecurityAdvisoryEcosystem {
  COMPOSER
  MAVEN
  NPM
  NUGET
  PIP
  RUBYGEMS
}

type SecurityVulnerability {
  """When the vulnerability was last updated"""
  updatedAt: String!

  """The Advisory associated with this Vulnerability"""
  advisory: SecurityAdvisory!

  """When was the alert dimissed?"""
  firstPatchedVersion: SecurityAdvisoryPackageVersion!

  """The user who dismissed the alert"""
  package: SecurityAdvisoryPackage

  """The severity of the vulnerability within this package"""
  severity: SecurityAdvisorySeverity

  """A string that describes the vulnerable package versions."""
  vulnerableVersionRange: String!
}

type RepositoryVulnerabilityAlert {
  id: ID!

  """Identifies the date and time when the object was created"""
  createdAt: String!

  """The reason the alert was dismissed"""
  dismissReason: String

  """When was the alert dimissed?"""
  dismissedAt: String

  """The user who dismissed the alert"""
  dismisser: User

  """The repository where the alert is located"""
  repository: Repository!

  """The vulnerable manifest path"""
  vulnerableManifestPath: String!

  """The vulnerable manifest filename"""
  vulnerableManifestFilename: String!

  """The vulnerable requirements"""
  vulnerableRequirements: String!

  """The vulnerable requirements"""
  securityVulnerability: SecurityVulnerability!
}

type VulnerabilityConnection {
  nodes: [RepositoryVulnerabilityAlert!]
  totalCount: Int!
}

type VulnerabilitiesAggregationConnection {
  """The field that was aggregated on"""
  field: String!

  """A list of aggregation buckets"""
  buckets: [AggregationBucket!]!
}

type Query {
  """Fetch data useful for UI configuration"""
  config: Config!

  """Fetch data (items, aggregatiosn) related to GitHub PRs"""
  githubPullrequests: GithubPullrequests!

  """Fetch data (items, aggregatiosn) related to GitHub PRs"""
  githubVulnerabilities: GithubVulnerabilities!
}
